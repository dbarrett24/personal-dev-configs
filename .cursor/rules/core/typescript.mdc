---
description: TypeScript patterns and best practices for strict type safety
globs:
  - "**/*.ts"
  - "**/*.tsx"
alwaysApply: true
---
# TypeScript Usage Guidelines

## Type System Preferences

- **Prefer types over interfaces** for object shapes
- **Avoid enums**; use const maps or literal types instead
- **Strict typing is mandatory** - TypeScript for all code

## Type Assertions

⚠️ **IMPORTANT: Avoid using `as any` type assertions**

When encountering typing issues:

1. First, try to use proper type definitions or more specific type assertions
2. For complex third-party libraries, ask about the correct types
3. Use type predicates or type guards where appropriate
4. Consider extending existing types rather than overriding them
5. If a type issue cannot be resolved cleanly, ask for guidance instead of using `as any`

## Type Guards and Predicates

Use type guards for runtime type checking:

```typescript
// Type predicate example
function isString(value: unknown): value is string {
    return typeof value === 'string';
}

// Type guard with discriminated unions
type Result<T> = { success: true; data: T } | { success: false; error: string };

function isSuccess<T>(result: Result<T>): result is { success: true; data: T } {
    return result.success;
}
```

## Common Type Patterns

### Const Assertions

```typescript
// Instead of enum
export const Status = {
    PENDING: 'pending',
    ACTIVE: 'active',
    COMPLETED: 'completed',
} as const;

export type Status = (typeof Status)[keyof typeof Status];
```

### Utility Types

- Use `Partial<T>` for optional properties
- Use `Required<T>` to make all properties required
- Use `Pick<T, K>` and `Omit<T, K>` for type manipulation
- Use `Record<K, V>` for object maps

## React Component Types

```typescript
// Function component with props
type MyComponentProps = {
    title: string;
    isActive?: boolean;
    children: React.ReactNode;
};

export const MyComponent = ({ title, isActive = false, children }: MyComponentProps) => {
    // Component implementation
};
```

## Strict TypeScript Configuration

Always enable in `tsconfig.json`:

```json
{
  "compilerOptions": {
    "strict": true,
    "strictNullChecks": true,
    "noImplicitAny": true,
    "noUnusedLocals": false,
    "noUnusedParameters": false
  }
}
```